/* style.css
   - simpan di file style.css di folder yang sama dengan index.html
   - palette: pink â†’ purple gradient, modern clean, with glassmorphism
*/

/* variables */
:root{
  --bg1: #ffd6e8;
  --bg2: #f6d7ff;
  --accent: #ff6fb5;
  --glass-card: rgba(255,255,255,0.85);
  --muted: #6b4256;
  --shadow: 0 12px 40px rgba(15,10,20,0.12);
  --shadow-lite: 0 4px 15px rgba(15,10,20,0.06);
  --glass: rgba(255,255,255,0.6);
  --input-focus: #ffc2e4;
}

/* reset */
*{box-sizing:border-box;margin:0;padding:0}
html,body{height:100%}
body{
  font-family: Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
  background: linear-gradient(180deg,var(--bg1),var(--bg2));
  color:#2f1e2b;
  -webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;
  overflow-x:hidden;
}

/* utility */
.visually-hidden{position:absolute!important;height:1px;width:1px;overflow:hidden;clip:rect(1px,1px,1px,1px);white-space:nowrap}
.muted{color:var(--muted)}
.small{font-size:12px}

/* center pages */
.page { display: none; }
.page--center { min-height:100vh; display:flex; align-items:center; justify-content:center; padding:28px; }
.page--overlay { position:fixed; inset:0; display:flex; align-items:center; justify-content:center; pointer-events:none; z-index: 999; } /* Tambah z-index untuk loading */
.page--stack { min-height:100vh; padding:36px 20px 120px 20px; display:block; position:relative; }

/* card (GLASSMORHISM) */
.card{
  background: var(--glass-card);
  backdrop-filter: blur(8px);
  border-radius:18px;
  padding:20px;
  box-shadow:var(--shadow);
  border: 1px solid rgba(255, 255, 255, 0.4);
}
.login-card{
  width:380px;
  text-align:center;
  position:relative;
  padding: 60px 36px 36px 36px; /* Perbaikan padding atas untuk memberi ruang verify-frame */
}

/* chibi top svg spacing */
.chibi-top{ display:flex; justify-content:center; margin-bottom:8px; }
.chibi-couple{ width:180px; height:auto; transform-origin:center; animation:chibiFloat 4s ease-in-out infinite; }
@keyframes chibiFloat{ 0%{transform:translateY(0)} 50%{transform:translateY(-6px)} 100%{transform:translateY(0)} }

/* input & button */
.input{
  width:100%; padding:14px;
  border-radius:12px;
  border:2px solid #ffdbed;
  margin-top:16px;
  font-size:16px;
  background:transparent;
  transition: border-color .3s ease, box-shadow .3s ease;
}
.input:focus {
  outline: none;
  border-color: var(--accent);
  box-shadow: 0 0 0 4px rgba(255, 111, 181, 0.15);
  background: rgba(255, 255, 255, 0.5);
}
.btn{
  display:inline-block; padding:14px 24px;
  border-radius:12px;
  cursor:pointer; border:none; font-weight:700;
  margin-top:20px;
  letter-spacing: 0.5px;
  transition: transform .3s ease, box-shadow .3s ease;
}
.btn--primary{
  width:100%;
  background: linear-gradient(90deg,var(--accent),#ff8cc7);
  color:#fff;
  box-shadow:0 12px 30px rgba(255,105,180,0.25);
}
.btn--primary:hover{
  transform: translateY(-2px);
  box-shadow:0 18px 45px rgba(255,105,180,0.35);
}

/* verify frame (PERBAIKAN POSISI) */
.verify-frame{
  position:absolute; left:50%;
  top: 70px; /* Posisikan lebih ke bawah agar tidak menutupi h1 */
  transform:translateX(-50%); display:flex; gap:12px; align-items:center;
  padding:12px 18px;
  border-radius:16px;
  background:#fff;
  box-shadow:var(--shadow-lite);
  border: 1px solid rgba(230, 230, 230, 0.8);
  z-index: 1001; /* Pastikan di atas elemen card lainnya */
}
.verify-icon{
  width:40px; height:40px;
  border-radius:50%; display:inline-flex; align-items:center; justify-content:center;
  font-size:20px; font-weight:800; color:#fff;
}
.verify-icon.ok{ background: linear-gradient(90deg,#bff0d6,#69d784) }
.verify-icon.fail{ background: linear-gradient(90deg,#ffd6de,#ff7b8a) }
.verify-text{ font-weight: 600; }

/* typing overlay */
.typing-box{ background: linear-gradient(90deg,#ff6fb5,#ff9ccf); color:#fff; padding:14px 18px; border-radius:12px; box-shadow:var(--shadow); pointer-events:auto }
.typing-text{ font-weight:700; font-size:18px }
.cursor{ margin-left:6px; opacity:1; animation:blink 850ms steps(1) infinite }
@keyframes blink{ 50%{ opacity:0 } }

/* memory header */
.mem-header{
  max-width:1000px;
  margin: 0 auto 12px;
  display:flex; gap:16px;
  align-items:center; padding:12px;
}
.mem-title h2{ margin:0; font-size:24px; font-weight: 800; }
.mem-title p{ margin-top: 4px; }

/* menu cards */
.menu-cards{
  display:flex; gap:20px;
  justify-content:center; margin-top:24px;
  flex-wrap:wrap
}
.card--menu{
  min-width:240px; max-width:280px;
  padding:24px;
  border-radius:20px;
  background:var(--glass-card);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.6);
  box-shadow:var(--shadow);
  cursor:pointer;
  transition: transform .35s cubic-bezier(0.175, 0.885, 0.32, 1.275), box-shadow .35s ease;
}
.card--menu:hover{
  transform:translateY(-10px) scale(1.03);
  box-shadow: 0 20px 50px rgba(20,10,30,0.18);
}
.card-title{
  font-weight:900;
  font-size: 18px;
  margin-bottom:8px;
  color: #3b2233;
}
.card-sub{ font-size:14px; color:var(--muted) }

/* content area and panels */
.content-area{ max-width:1000px; margin:28px auto 0; padding:0 12px }
.panel{
  border-radius:18px;
  padding:24px;
  background:var(--glass-card);
  backdrop-filter: blur(8px);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-shadow:var(--shadow);
  margin-bottom:24px;
}
.panel h3{ font-size: 22px; font-weight: 800; margin-bottom: 4px; }
.panel p.muted{ margin-bottom: 12px; }
.tracks{ display:flex; flex-direction:column; gap:16px }
.track{
  display:flex; align-items:center; gap:16px;
  padding:12px 18px;
  border-radius:12px;
  background:rgba(255,255,255,0.8);
  box-shadow: var(--shadow-lite);
}
.track audio{ flex-grow: 1; height: 36px; }

/* gallery */
.gallery{
  display:grid;
  grid-template-columns: repeat(auto-fill,minmax(160px,1fr));
  gap:16px;
  margin-top:16px
}
.gallery img{
  width:100%; height:160px;
  object-fit:cover;
  border-radius:16px;
  box-shadow:0 10px 30px rgba(10,8,12,0.1);
  transition: transform .3s ease;
}
.gallery img:hover{ transform: scale(1.05); }

/* chat frame small */
.chat-frame{
  width:360px;
  border-radius:18px;
  overflow:hidden;
  box-shadow:var(--shadow);
  margin-top:16px;
  background:linear-gradient(180deg,#ffffff,#fff8fc);
  border: 1px solid rgba(255, 255, 255, 0.5);
}
.chat-header{
  background: linear-gradient(90deg, #9955b9, #ff6fb5);
  color:#fff; padding:12px 18px; font-weight:700;
  font-size: 16px;
  display:flex; justify-content:space-between; align-items:center;
}
.chat-body{
  padding:16px;
  display:flex; flex-direction:column; gap:12px;
  max-height:300px;
  overflow:auto;
  background:linear-gradient(180deg,#ffffff,#fffafc)
}
.bubble{
  max-width:80%;
  padding:10px 14px;
  border-radius:18px;
  font-size:15px;
  position:relative;
  filter: drop-shadow(0 2px 4px rgba(0,0,0,0.04));
}
.bubble.left{ align-self:flex-start; background:#f5f5f5; color:#28181f }
.bubble.right{
  align-self:flex-end;
  background:linear-gradient(135deg,#c7f0d6,#8de09e);
  color:#15321f
}

/* small metadata in chat */
.bubble .ts{ display:block; font-size:10px; color:#9a7b8a; margin-top:4px; text-align:right }

/* chibi fixed in corner */
.chibi-fixed{
  position:fixed; right:24px; bottom:24px;
  width:160px;
  height:auto; pointer-events:none; transform-origin:center;
  animation:chibiWiggle 5s ease-in-out infinite;
  filter:drop-shadow(0 15px 30px rgba(0,0,0,0.18));
}
@keyframes chibiWiggle{
  0%{ transform:translateY(0) rotate(0deg) }
  30%{ transform:translateY(-6px) rotate(-2deg) }
  60%{ transform:translateY(-4px) rotate(1deg) }
  100%{ transform:translateY(0) rotate(0deg) }
}

/* sparkles background */
.sparkles{ position:fixed; inset:0; pointer-events:none; z-index:0 }
.sparkles::before, .sparkles::after{
  content:''; position:absolute; inset:0; background-image: radial-gradient(circle at 10% 20%, rgba(255,255,255,0.28) 0px, transparent 30px),
    radial-gradient(circle at 80% 70%, rgba(255,255,255,0.22) 0px, transparent 40px);
  opacity:0.35; animation:twinkle 6s linear infinite;
}
@keyframes twinkle{
  0%{ opacity:0.2 } 50%{ opacity:0.55 } 100%{ opacity:0.2 }
}

/* fade-in utility used by showPanel */
@keyframes panelIn { from{ opacity:0; transform:translateY(16px) } to{ opacity:1; transform:none } }
.panel[hidden="false"]{ animation: panelIn .5s ease-out both }

/* responsive */
@media (max-width:800px){
  .login-card{ width:90%; padding:30px }
  .card--menu{ width:90%; min-width: unset }
  .chat-frame{ width:90% }
  .chibi-fixed{ width:120px; right:16px; bottom:16px }
  .mem-header{ padding: 8px 0 }
}
